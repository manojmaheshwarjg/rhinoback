{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.217.0"},"children":{"RhinoBackStack":{"id":"RhinoBackStack","path":"RhinoBackStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.217.0"},"children":{"ProjectsTable":{"id":"ProjectsTable","path":"RhinoBackStack/ProjectsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.217.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RhinoBackStack/ProjectsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.217.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"},{"attributeName":"userId","attributeType":"S"},{"attributeName":"createdAt","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"UserIdIndex","keySchema":[{"attributeName":"userId","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"id","keyType":"HASH"},{"attributeName":"userId","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"rhinoback-projects"}}},"ScalingRole":{"id":"ScalingRole","path":"RhinoBackStack/ProjectsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.217.0","metadata":[]}}}},"UsersTable":{"id":"UsersTable","path":"RhinoBackStack/UsersTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.217.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RhinoBackStack/UsersTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.217.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"id","keyType":"HASH"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"rhinoback-users"}}},"ScalingRole":{"id":"ScalingRole","path":"RhinoBackStack/UsersTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.217.0","metadata":[]}}}},"SchemasTable":{"id":"SchemasTable","path":"RhinoBackStack/SchemasTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.217.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RhinoBackStack/SchemasTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.217.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"},{"attributeName":"projectId","attributeType":"S"},{"attributeName":"createdAt","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"ProjectIdIndex","keySchema":[{"attributeName":"projectId","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"id","keyType":"HASH"},{"attributeName":"projectId","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"rhinoback-schemas"}}},"ScalingRole":{"id":"ScalingRole","path":"RhinoBackStack/SchemasTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.217.0","metadata":[]}}}},"DeploymentsTable":{"id":"DeploymentsTable","path":"RhinoBackStack/DeploymentsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.217.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RhinoBackStack/DeploymentsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.217.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"},{"attributeName":"projectId","attributeType":"S"},{"attributeName":"createdAt","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"ProjectIdIndex","keySchema":[{"attributeName":"projectId","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"id","keyType":"HASH"},{"attributeName":"projectId","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"rhinoback-deployments"}}},"ScalingRole":{"id":"ScalingRole","path":"RhinoBackStack/DeploymentsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.217.0","metadata":[]}}}},"StorageBucket":{"id":"StorageBucket","path":"RhinoBackStack/StorageBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.217.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RhinoBackStack/StorageBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.217.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"rhinoback-storage-069380454083-us-east-1","corsConfiguration":{"corsRules":[{"maxAge":3000,"allowedHeaders":["*"],"allowedMethods":["GET","POST","PUT","DELETE"],"allowedOrigins":["*"]}]},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"RhinoBackStack/StorageBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.217.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RhinoBackStack/StorageBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.217.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"StorageBucket19DB2FF8"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["StorageBucket19DB2FF8","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["StorageBucket19DB2FF8","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"RhinoBackStack/StorageBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.217.0","metadata":[]},"children":{"Default":{"id":"Default","path":"RhinoBackStack/StorageBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.217.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"RhinoBackStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.217.0"},"children":{"Staging":{"id":"Staging","path":"RhinoBackStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.217.0"}},"Role":{"id":"Role","path":"RhinoBackStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.217.0"}},"Handler":{"id":"Handler","path":"RhinoBackStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.217.0"}}}},"CodeGenerationDLQ":{"id":"CodeGenerationDLQ","path":"RhinoBackStack/CodeGenerationDLQ","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.217.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RhinoBackStack/CodeGenerationDLQ/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.217.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"queueName":"rhinoback-code-generation-dlq"}}}}},"CodeGenerationQueue":{"id":"CodeGenerationQueue","path":"RhinoBackStack/CodeGenerationQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.217.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RhinoBackStack/CodeGenerationQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.217.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"rhinoback-code-generation","redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["CodeGenerationDLQA85F4A5B","Arn"]},"maxReceiveCount":3},"visibilityTimeout":900}}}}},"DeploymentQueue":{"id":"DeploymentQueue","path":"RhinoBackStack/DeploymentQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.217.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RhinoBackStack/DeploymentQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.217.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"rhinoback-deployments","visibilityTimeout":1800}}}}},"DeploymentNotifications":{"id":"DeploymentNotifications","path":"RhinoBackStack/DeploymentNotifications","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.217.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RhinoBackStack/DeploymentNotifications/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.217.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"RhinoBack Deployment Notifications","topicName":"rhinoback-deployment-notifications"}}}}},"BackendRole":{"id":"BackendRole","path":"RhinoBackStack/BackendRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.217.0","metadata":[]},"children":{"ImportBackendRole":{"id":"ImportBackendRole","path":"RhinoBackStack/BackendRole/ImportBackendRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.217.0","metadata":[]}},"Resource":{"id":"Resource","path":"RhinoBackStack/BackendRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.217.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ec2.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"DynamoDBAccess","policyDocument":{"Statement":[{"Action":["dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DeploymentsTable5D087E52","Arn"]},{"Fn::GetAtt":["ProjectsTableAA0A2089","Arn"]},{"Fn::GetAtt":["SchemasTable1DC069C3","Arn"]},{"Fn::GetAtt":["UsersTable9725E9C8","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DeploymentsTable5D087E52","Arn"]},"/index/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["ProjectsTableAA0A2089","Arn"]},"/index/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["SchemasTable1DC069C3","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"}},{"policyName":"S3Access","policyDocument":{"Statement":[{"Action":["s3:DeleteObject","s3:GetObject","s3:ListBucket","s3:PutObject"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["StorageBucket19DB2FF8","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["StorageBucket19DB2FF8","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}},{"policyName":"SQSAccess","policyDocument":{"Statement":[{"Action":["sqs:DeleteMessage","sqs:GetQueueAttributes","sqs:ReceiveMessage","sqs:SendMessage"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["CodeGenerationQueue55D1844D","Arn"]},{"Fn::GetAtt":["DeploymentQueue1BAF22A4","Arn"]}]}],"Version":"2012-10-17"}},{"policyName":"SNSAccess","policyDocument":{"Statement":[{"Action":"sns:Publish","Effect":"Allow","Resource":{"Ref":"DeploymentNotifications4D83F2DD"}}],"Version":"2012-10-17"}}],"roleName":"RhinoBackBackendRole"}}}}},"S3BucketName":{"id":"S3BucketName","path":"RhinoBackStack/S3BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.217.0"}},"ProjectsTableName":{"id":"ProjectsTableName","path":"RhinoBackStack/ProjectsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.217.0"}},"BackendRoleArn":{"id":"BackendRoleArn","path":"RhinoBackStack/BackendRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.217.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"RhinoBackStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"RhinoBackStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.217.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RhinoBackStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.217.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RhinoBackStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.217.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}